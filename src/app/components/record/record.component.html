<section class='container-menu-home'>

    <div class="logo-menu animate" >
        <img src="../../../assets/imgs/icons/fact_check_black_24dp.svg" alt="logo">
    </div> 

    <article class="title-menu-home">
        <h1 class="animate-fade-up">Ventas en procesos</h1>
    </article>

   
</section>

<!-- menu floating -->
<app-menu-float></app-menu-float>

 
 <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
<!-- 
<div class="alert alert-primary" role="alert">
    A simple primary alertâ€”check it out!
  </div>-->
  <br><br>
<table class="table table-bordered animate">
    <tr>
        <th>CLIENTE</th>
        <th>PRODUCTO</th>
        <th>CANTIDAD</th>
        <th>ESTADO</th>
        <th>SUBTOTAL</th>
        <th>TOTAL</th>
        <th>FACTURA</th>
    </tr>
    <tr *ngFor="let rec of records">
        <td>{{rec.nombreCliente}}</td>
        <td>{{rec.nombreProducto}}</td>
        <td>{{rec.cantidad}}</td>
        
        <td>
            <button  *ngIf="rec.estado!='p '" type="button" class="complete__button">COMPLETADA </button>
            <button  *ngIf="rec.estado=='p '" type="button" class="process__button" (click)="completed(rec.id,'c')">PENDIENTE</button>
        </td>
        <td>{{rec.subtotal|currency}}</td>
        <td>{{rec.total|currency}}</td>
        <td> 
            <button [disabled]="rec.estado=='p '" type="button" class="btn btn-primary" style="background-color: blue !important" (click)="getFacturate(rec)">Obtenerla </button>
        </td>
    </tr>

  
    
</table>  

 
  <section class="facturation" *ngIf="existFacturationFinal" (click)="existFacturationFinal=false">
   
    <article class="data__facturation animate " >
        <h1 class="facturation__title">Factura</h1>
        <br>

        <div class="column__facturation">
            <p class="colum__facturation__title">COMPRADOR</p>
            <p class="data__column__facturation">{{recordsFacture.nombreCliente}}</p>
        </div>

        <div class="column__facturation">
            <p class="colum__facturation__title">PRODUCTO</p>
            <p class="data__column__facturation">{{recordsFacture.nombreProducto}} </p>
        </div>

        <div class="column__facturation">
            <p class="colum__facturation__title">CANTIDAD</p>
            <p class="data__column__facturation">+{{recordsFacture.cantidad}}</p>
        </div>

        <div class="column__facturation">
            <p class="colum__facturation__title">SUBTOTAL</p>
            <p class="data__column__facturation">{{recordsFacture.subtotal | currency}}</p>
        </div>

        <div class="column__facturation">
            <p class="colum__facturation__title">TOTAL</p>
            <p class="data__column__facturation">{{recordsFacture.total | currency}}</p>
        </div>

        <div class="column__facturation">
            <p class="colum__facturation__title">FECHA COMPRA</p>
            <p class="data__column__facturation"> {{datenow}}</p>
        </div>

        <div class="column__facturation">
            <p class="colum__facturation__title">Atendido por</p>
            <p class="data__column__facturation"> {{currentUser}}</p>
        </div>

        <div class="column__facturation">
            <button class="btn btn-danger btn-sm" style="width: 100% !important">Imprimir factura fisica</button>
        </div>
    </article>
</section>

 <style>
 
    .data__facturation{
        background-color: rgb(26, 20, 118);
        height: 450px;
        color:white !important;
        width: 380px;
        border-radius: 5px;
        padding: 0 10px;
        
    }
    .facturation__title{
        color:white !important;
    }
    .column__facturation{
        display: flex;
        padding-top: 5px;
        
        justify-content: space-between;
        align-items: center;
        border-bottom:.3px solid white;
    }
    .colum__facturation__title{
        font-weight: 500;
        font-size: 18px;
    }
    .data__column__facturation{
        font-size: 16px;
    }
 </style>  